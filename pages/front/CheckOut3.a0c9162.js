(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{290:function(t,e,r){var content=r(320);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("186dc3b0",content,!0,{sourceMap:!1})},319:function(t,e,r){"use strict";r(290)},320:function(t,e,r){var d=r(35)(!1);d.push([t.i,'body[data-v-590b241a]{font-size:.875rem}body[data-v-590b241a],html[data-v-590b241a]{font-family:arial,"Microsoft JhengHei","微軟正黑體",sans-serif!important;margin:0}[role=main][data-v-590b241a]{padding-top:70px}@media(max-width:768px){[role=main][data-v-590b241a]{padding-top:75px}}.layout-enter-active[data-v-590b241a],.layout-leave-active[data-v-590b241a]{transition:opacity .5s}.layout-enter[data-v-590b241a],.layout-leave-active[data-v-590b241a]{opacity:0}.ul-item[data-v-590b241a]{display:flex;justify-content:center;align-items:center;padding-top:3rem}.ul-item li[data-v-590b241a]{list-style:none;border-radius:.3rem}.ul-item li p[data-v-590b241a]{margin:0 auto}.ul-item li[data-v-590b241a]:nth-child(odd){border:1px solid #003d79;padding:.5rem}.ul-item li[data-v-590b241a]:nth-child(2n){margin-right:1.5rem}.ul-item .active[data-v-590b241a]{background-color:#003d79;color:#fff;font-weight:600;font-size:1.6rem}.btn[data-v-590b241a]{background-color:#fff;border-radius:.3rem;border:none}.btn[data-v-590b241a]:hover{cursor:pointer}.text-right[data-v-590b241a]{text-align:right}.align-middle[data-v-590b241a]{text-align:center}.container .order-box[data-v-590b241a]{display:flex;justify-content:center}.container .order-box form[data-v-590b241a]{width:80%}.container .order-box form table[data-v-590b241a]{width:100%}.container .order-box form table thead[data-v-590b241a]{background-color:#f9cd25}.container .order-box form table .text-danger[data-v-590b241a],.container .order-box form table .total[data-v-590b241a]{color:red;font-weight:600}.container .order-box form table .text-primary[data-v-590b241a]{color:#003d79;font-weight:600}.container .order-box form table .text-success[data-v-590b241a]{color:#28a745}.container .order-box form table tr[data-v-590b241a]{height:2rem}.container .order-box form table td[data-v-590b241a]{border-top:1px solid #ced3d3}.container .order-box form table .btn-box[data-v-590b241a]{display:flex;justify-content:flex-end;margin-bottom:1rem}.container .order-box form table .btn-box i[data-v-590b241a],.container .order-box form table .btn-box span[data-v-590b241a]{color:#000;padding-left:.2rem;font-weight:600;font-size:1rem}.container .order-box form table .btn-box .btn-left[data-v-590b241a]{background-color:#ced3d3;padding:.5rem 1rem}.container .order-box form table .btn-box .btn-right[data-v-590b241a]{background-color:red;padding:.5rem 1rem;margin-left:1rem}.container .order-box form table .btn-box .btn-right i[data-v-590b241a],.container .order-box form table .btn-box .btn-right span[data-v-590b241a]{color:#fff}#isPaid[data-v-590b241a]{width:100vw;height:100vh;background-color:rgba(0,0,0,.5);position:fixed;top:0;left:0;z-index:99;display:flex;justify-content:center;align-items:center}#isPaid .card-box[data-v-590b241a]{max-width:350px;height:25%;background-color:#fff;border-radius:.2rem;position:relative}#isPaid .card-box .close[data-v-590b241a]{position:absolute;top:1rem;right:1rem;font-size:1.6rem;border:none;background-color:#fff}#isPaid .card-box .close[data-v-590b241a]:hover{cursor:pointer}#isPaid .card-box .modal-content[data-v-590b241a]{padding:1rem}#isPaid .card-box .modal-content .modal-title[data-v-590b241a]{font-size:1.2rem;margin:0}#isPaid .card-box .modal-content .modal-body[data-v-590b241a]{color:red;font-size:1.4rem;margin-top:1rem}@media(max-width:1920px)and (min-width:1280px){.shop-title-rwd p[data-v-590b241a]{font-size:24px}.table-rwd td img[data-v-590b241a]{width:100px}}@media(max-width:1279px)and (min-width:1025px){.table-rwd td img[data-v-590b241a]{width:100px}}@media(max-width:1024px){.table-price-rwd[data-v-590b241a]{width:80px}.table-num-rwd[data-v-590b241a]{width:50px}.shop-title-rwd p[data-v-590b241a]{font-size:24px}.table-rwd td img[data-v-590b241a]{width:100px}}@media(max-width:768px){.table-rwd[data-v-590b241a]{min-width:100%}tr.tr-only-hide[data-v-590b241a]{display:none!important}thead[data-v-590b241a]{display:none}.qty-rwd[data-v-590b241a]{display:inline-block}.table-rwd tr[data-v-590b241a]{display:block;border:1px solid #ddd;margin-top:5px}.table-rwd td[data-v-590b241a]{text-align:left;font-size:15px;overflow:hidden;width:100%;display:block}.table-rwd td img[data-v-590b241a]{width:100px}.table-rwd td[data-v-590b241a]:before{content:attr(data-th) " : ";display:inline-block;text-transform:uppercase;font-weight:700;margin-right:10px;color:#d20b2a}.table-rwd.table-bordered[data-v-590b241a],.table-rwd.table-bordered td[data-v-590b241a],.table-rwd.table-bordered th[data-v-590b241a]{border:0}.table-num-rwd-input button[data-v-590b241a]{padding:5px}.table-num-rwd-input input[data-v-590b241a]{padding:0;font-size:14px}.shop-title-rwd p[data-v-590b241a]{font-size:18px}}@media(max-width:320px){.btn-rwd button[data-v-590b241a]{padding:10px 0}}',""]),t.exports=d},331:function(t,e,r){"use strict";r.r(e);r(54),r(55);var d={data:function(){return{orderId:"",order:{user:{}},paymethod:"",isPaidModel:!1}},methods:{getOrder:function(){console.log(this.orderId);var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("hans","/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),t.$axios.get(e).then((function(e){t.order=e.data.order,t.$store.dispatch("updateLoading",!1)}))},payOrder:function(){var t=this,e=this,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("hans","/pay/").concat(e.orderId);e.$store.dispatch("updateLoading",!0),e.$axios.post(r).then((function(r){r.data.success&&(setTimeout((function(){t.isPaidModel=!0}),1e3),setTimeout((function(){t.isPaidModel=!1}),5e3),e.getOrder()),e.$nuxt.$emit("refreshCart"),e.$store.dispatch("updateLoading",!1)}))},goIndex:function(){this.$router.push("/")}},created:function(){this.orderId=this.$route.query.id,this.getOrder()},beforeRouteLeave:function(t,e,r){!0===this.order.is_paid?r():confirm("您尚未付款完成，\n您確定要離開！")?r():r(!1)}},o=(r(319),r(8)),component=Object(o.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"ul-item"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),r("li",{class:[t.order.is_paid?"":["shop-title-rwd","active"]]},[r("p",[t._v("3 付款方式")])]),t._v(" "),r("li",[r("no-ssr",[t.order.is_paid?r("i",{staticClass:"fas fa-angle-double-right mr-1"}):r("i",{staticClass:"fas fa-angle-double-right animate__animated animate__slideOutRight animate__infinite"})])],1),t._v(" "),r("li",{class:[t.order.is_paid?["shop-title-rwd","active"]:""]},[r("p",[t._v("4 付款完成")])])]),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"order-box"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[r("table",{staticClass:"table"},[t._m(4),t._v(" "),r("tbody",t._l(t.order.products,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.product.title))]),t._v(" "),r("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),t._v(" "),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.final_total)))])])})),0),t._v(" "),r("tfoot",[r("tr",[r("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),r("td",{staticClass:"text-right total"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),t._v(" "),r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("th",{attrs:{width:"95"}},[t._v("Email")]),t._v(" "),r("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),r("tr",[r("th",[t._v("姓名")]),t._v(" "),r("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),r("tr",[r("th",[t._v("收件人電話")]),t._v(" "),r("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),r("tr",[r("th",[t._v("收件人地址")]),t._v(" "),r("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),r("tr",[r("th",[t._v("付款狀態")]),t._v(" "),r("td",[r("span",{staticClass:"text-primary mr-3"},[t._v(t._s(t.paymethod))]),t._v(" "),r("no-ssr",[t.order.is_paid?r("span",{staticClass:"text-success"},[t._v("付款完成")]):r("span",{staticClass:"text-danger"},[t._v("尚未付款")])])],1)]),t._v(" "),r("tr",[r("th",[t._v("付款方式")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[r("div",{class:["貨到付款"===t.paymethod?"text-primary":""]},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.paymethod,expression:"paymethod"}],attrs:{type:"radio",name:"inlineRadioOptions",id:"cash",value:"貨到付款",disabled:t.order.is_paid,required:""},domProps:{checked:t._q(t.paymethod,"貨到付款")},on:{change:function(e){t.paymethod="貨到付款"}}}),t._v(" "),t._m(5)]),t._v(" "),r("div",{class:["線上刷卡"===t.paymethod?"text-primary":""]},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.paymethod,expression:"paymethod"}],attrs:{type:"radio",name:"inlineRadioOptions",id:"creditcard",value:"線上刷卡",disabled:t.order.is_paid,required:""},domProps:{checked:t._q(t.paymethod,"線上刷卡")},on:{change:function(e){t.paymethod="線上刷卡"}}}),t._v(" "),t._m(6)]),t._v(" "),r("div",{class:["超商取貨"===t.paymethod?"text-primary":""]},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.paymethod,expression:"paymethod"}],attrs:{type:"radio",name:"inlineRadioOptions",id:"storepickup",value:"超商取貨",disabled:"",required:""},domProps:{checked:t._q(t.paymethod,"超商取貨")},on:{change:function(e){t.paymethod="超商取貨"}}}),t._v(" "),t._m(7)]),t._v(" "),r("div",{staticClass:"btn-box"},[r("div",[r("button",{staticClass:"btn btn-left",on:{click:function(e){return e.preventDefault(),t.goIndex(e)}}},[r("span",[t._v("再去逛逛")])])]),t._v(" "),r("no-ssr",[!1===t.order.is_paid?r("div",[r("button",{staticClass:"btn btn-right"},[r("span",[t._v("確認付款去")])])]):t._e()])],1)])])])])])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isPaidModel,expression:"isPaidModel"}],attrs:{id:"isPaid"}},[r("div",{staticClass:"card-box"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header bg-primary"},[r("h5",{staticClass:"modal-title"},[t._v("感謝您的訂購")]),t._v(" "),r("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.isPaidModel=!1}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),t._m(8)])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("p",[t._v("1 購物資訊")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"fas fa-angle-double-right"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("p",[t._v("2 訂單資訊")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"fas fa-angle-double-right"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"bg-primary"},[r("th",[t._v("商品")]),t._v(" "),r("th",{attrs:{width:"80"}},[t._v("數量")]),t._v(" "),r("th",{staticClass:"text-right",attrs:{width:"110"}},[t._v("價格")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"form-check-label",attrs:{for:"cash","data-toggle":"tooltip","data-placement":"bottom",title:"目前貨到付款只提供平日配送。"}},[t._v("\n                      貨到付款"),r("i",{staticClass:"fas fa-shipping-fast ml-2 mr-3"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"form-check-label",attrs:{for:"creditcard","data-toggle":"tooltip","data-placement":"bottom",title:"歡迎使用信用卡刷卡，優惠期間免刷卡手續費。"}},[t._v("\n                      線上刷卡"),r("i",{staticClass:"far fa-credit-card ml-2 mr-3"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"form-check-label",attrs:{for:"storepickup"}},[t._v("\n                      超商取貨 (尚未開放) "),r("i",{staticClass:"fas fa-store ml-2 mr-3"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-body"},[r("p",[t._v("貨品將3天內送達，敬請留意快遞，謝謝!")]),t._v(" "),r("i",{staticClass:"fas fa-shipping-fast animate__animated animate__bounceOutRight animate__infinite",staticStyle:{"animation-duration":"12s"}})])}],!1,null,"590b241a",null);e.default=component.exports}}]);