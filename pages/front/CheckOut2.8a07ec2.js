(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{289:function(t,e,r){var content=r(318);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("0a31c04a",content,!0,{sourceMap:!1})},317:function(t,e,r){"use strict";r(289)},318:function(t,e,r){var o=r(35)(!1);o.push([t.i,'body[data-v-45701407]{font-size:.875rem}body[data-v-45701407],html[data-v-45701407]{font-family:arial,"Microsoft JhengHei","微軟正黑體",sans-serif!important;margin:0}[role=main][data-v-45701407]{padding-top:70px}@media(max-width:768px){[role=main][data-v-45701407]{padding-top:75px}}.layout-enter-active[data-v-45701407],.layout-leave-active[data-v-45701407]{transition:opacity .5s}.layout-enter[data-v-45701407],.layout-leave-active[data-v-45701407]{opacity:0}.ul-item[data-v-45701407]{display:flex;justify-content:center;align-items:center;padding-top:3rem}.ul-item li[data-v-45701407]{list-style:none;border-radius:.3rem}.ul-item li p[data-v-45701407]{margin:0 auto}.ul-item li[data-v-45701407]:nth-child(3){background-color:#003d79;color:#fff;font-weight:600;font-size:1.6rem}.ul-item li[data-v-45701407]:nth-child(odd){border:1px solid #003d79;padding:.5rem}.ul-item li[data-v-45701407]:nth-child(2n){margin-right:1.5rem}.btn[data-v-45701407]{background-color:#fff;border-radius:.3rem;border:none}.btn[data-v-45701407]:hover{cursor:pointer}.text-right[data-v-45701407]{text-align:right}.container[data-v-45701407]{display:flex;justify-content:center}.container .card-box[data-v-45701407]{height:100%;width:80%;border:1px solid #ddd}.container .card-box .card-header[data-v-45701407]{background:#e7e6e6;height:3rem}.container .card-box .card-header button[data-v-45701407]{font-weight:600;margin:1rem;background:#e7e6e6}.container .card-box .table[data-v-45701407]{width:100%}.container .card-box .table th[data-v-45701407]{height:2rem}.container .card-box .table img[data-v-45701407]{border:1px solid #ced3d3}.container .card-box .table td[data-v-45701407]{border-top:1px solid #ced3d3}.container .card-box .table .coupon-text[data-v-45701407]{color:#f9cd25}.container .card-box .table .total[data-v-45701407]{color:red;font-size:1rem;font-weight:600;line-height:3rem}.container .card-box .table .total span[data-v-45701407]{font-size:1.4rem}.container .card-box .table .discount[data-v-45701407]{color:#28a745;text-align:right;height:2rem}.order-info[data-v-45701407]{display:flex;justify-content:center;margin:3rem auto;width:50%}.order-info form[data-v-45701407]{width:100%}.order-info form label[data-v-45701407]{line-height:2rem}.order-info form .form-group[data-v-45701407]{display:grid;grid-template-rows:2rem 2rem}.order-info form .form-group textarea[data-v-45701407]{height:5rem}.order-info form .form-group span[data-v-45701407]{color:red}.order-info form .btn-box[data-v-45701407]{display:flex;justify-content:space-between;height:3rem;margin-top:5rem;margin-bottom:3rem}.order-info form .btn-box i[data-v-45701407],.order-info form .btn-box span[data-v-45701407]{color:#000;padding-left:.2rem;font-weight:600;font-size:1rem}.order-info form .btn-box .btn-left[data-v-45701407]{background-color:#ced3d3;padding:.5rem 1rem}.order-info form .btn-box .btn-right[data-v-45701407]{background-color:red;padding:.5rem 1rem}.order-info form .btn-box .btn-right i[data-v-45701407],.order-info form .btn-box .btn-right span[data-v-45701407]{color:#fff}#checkorder[data-v-45701407]{width:100vw;height:100vh;background-color:rgba(0,0,0,.5);position:fixed;top:0;left:0;z-index:99;display:flex;justify-content:center;align-items:center}#checkorder .card-box[data-v-45701407]{max-width:350px;height:25%;background-color:#fff;border-radius:.2rem;position:relative}#checkorder .card-box .close[data-v-45701407]{position:absolute;top:1rem;right:1rem;font-size:1.6rem;border:none;background-color:#fff}#checkorder .card-box .close[data-v-45701407]:hover{cursor:pointer}#checkorder .card-box .modal-content[data-v-45701407]{padding:1rem}#checkorder .card-box .modal-content .modal-title[data-v-45701407]{font-size:1.2rem;margin:0}#checkorder .card-box .modal-content .modal-body[data-v-45701407]{color:red;font-size:1.4rem;margin-top:1rem}#checkorder .card-box .modal-content .modal-footer[data-v-45701407]{position:absolute;bottom:1rem;right:1rem;font-size:2rem}#checkorder .card-box .modal-content .modal-footer .btn-left[data-v-45701407]{background-color:#ced3d3;padding:.5rem 1rem}#checkorder .card-box .modal-content .modal-footer .btn-right[data-v-45701407]{background-color:red;padding:.5rem 1rem;color:#fff}.form-box[data-v-45701407]{width:100%}@media(max-width:1920px)and (min-width:1280px){.shop-title-rwd p[data-v-45701407]{font-size:24px}.table-rwd td img[data-v-45701407]{width:100px}}@media(max-width:1279px)and (min-width:1025px){.table-rwd td img[data-v-45701407]{width:100px}}@media(max-width:1024px){.table-price-rwd[data-v-45701407]{width:80px}.table-num-rwd[data-v-45701407]{width:50px}.shop-title-rwd p[data-v-45701407]{font-size:24px}.table-rwd td img[data-v-45701407]{width:100px}}@media(max-width:768px){.table-rwd[data-v-45701407]{min-width:100%}tr.tr-only-hide[data-v-45701407]{display:none!important}thead[data-v-45701407]{display:none}.qty-rwd[data-v-45701407]{display:inline-block}.table-rwd tr[data-v-45701407]{display:block;border:1px solid #ddd;margin-top:5px}.table-rwd td[data-v-45701407]{text-align:left;font-size:15px;overflow:hidden;width:100%;display:block}.table-rwd td img[data-v-45701407]{width:100px}.table-rwd td[data-v-45701407]:before{content:attr(data-th) " : ";display:inline-block;text-transform:uppercase;font-weight:700;margin-right:10px;color:#d20b2a}.table-rwd.table-bordered[data-v-45701407],.table-rwd.table-bordered td[data-v-45701407],.table-rwd.table-bordered th[data-v-45701407]{border:0}.table-num-rwd-input button[data-v-45701407]{padding:5px}.table-num-rwd-input input[data-v-45701407]{padding:0;font-size:14px}.shop-title-rwd p[data-v-45701407]{font-size:18px}.order-info[data-v-45701407]{width:75%}}@media(max-width:320px){.btn-rwd button[data-v-45701407]{padding:10px 0}}[aria-expanded=false] .menu_icon-open[data-v-45701407]{display:inline}[aria-expanded=false] .menu_icon-close[data-v-45701407],[aria-expanded=true] .menu_icon-open[data-v-45701407]{display:none}[aria-expanded=true] .menu_icon-close[data-v-45701407]{display:inline}',""]),t.exports=o},332:function(t,e,r){"use strict";r.r(e);r(25),r(24),r(23),r(45),r(14),r(46);var o=r(15),d=(r(54),r(19));function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var c={components:{},data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},coupon_code:"",coupon_msg:"",checkOrderState:!1,orderShow:!0}},methods:l(l({},Object(d.b)("carts",["getCart"])),{},{createOrder:function(){var t=this,e=this,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("hans","/order"),o=e.form;e.$store.dispatch("updateLoading",!0),e.$axios.post(r,{data:o}).then((function(r){t.checkOrderState=!1,e.$nuxt.$emit("messsage:push",r.data.message,"success"),r.data.success&&e.$router.push({path:"/front/checkout3",query:{id:r.data.orderId}}),t.$nuxt.$emit("refreshCart"),e.$store.dispatch("updateLoading",!1)}))},goCheckOut:function(){this.$router.push("/front/checkout")}}),computed:l({},Object(d.c)("carts",["cart"])),created:function(){this.getCart()},beforeRouteLeave:function(t,e,r){if(0===this.cart.carts)r();else if(t.path.indexOf("CheckOut3"))r();else{confirm("訂單尚未建立，\n您確定要離開！")?r():r(!1)}}},m=(r(317),r(8)),component=Object(m.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"card-box"},[r("div",{staticClass:"card-header"},[r("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){t.orderShow=!t.orderShow}}},[t._v("\n          購物資訊\n          "),r("no-ssr",[t.orderShow?r("i",{staticClass:"fa fa-angle-down fa-lg menu_icon-open"}):r("i",{staticClass:"fa fa-angle-up fa-lg menu_icon-close"})])],1)]),t._v(" "),r("no-ssr",[t.cart.carts.length>0?r("div",{directives:[{name:"show",rawName:"v-show",value:t.orderShow,expression:"orderShow"}]},[r("table",{staticClass:"table table-rwd"},[r("thead",[r("th"),t._v(" "),r("th",{staticStyle:{"text-align":"left"}},[t._v("商品")]),t._v(" "),r("th",{staticClass:"text-right",attrs:{width:"70"}},[t._v("數量")]),t._v(" "),r("th",{staticClass:"text-right",attrs:{width:"140"}},[t._v("價格")])]),t._v(" "),r("tbody",t._l(t.cart.carts,(function(e){return r("tr",{key:e.id},[r("td",{attrs:{"data-th":"商品圖片"}},[r("img",{staticClass:"p-1 border",attrs:{src:e.product.imageUrl}})]),t._v(" "),r("td",{attrs:{"data-th":"商品"}},[t._v("\n                  "+t._s(e.product.title)+"\n                  "),e.coupon?r("div",{staticClass:"coupon-text"},[r("i",{staticClass:"fas fa-ticket-alt"}),t._v("\n                    已套用優惠券\n                  ")]):t._e()]),t._v(" "),r("td",{staticClass:" text-right",attrs:{"data-th":"數量"}},[t._v(t._s(e.qty))]),t._v(" "),r("td",{staticClass:" text-right",attrs:{"data-th":"單價"}},[t._v(t._s(t._f("currency")(e.final_total)))])])})),0),t._v(" "),r("tfoot",[r("tr",[r("td",{staticClass:"text-right total",attrs:{colspan:"4","data-th":"總計"}},[t._v("\n                  總計"),r("span",[t._v(t._s(t._f("currency")(t.cart.total)))])])]),t._v(" "),t.cart.final_total!==t.cart.total?r("tr",[r("td",{staticClass:"total text-right discount",attrs:{colspan:"4","data-th":"折扣價"}},[t._v("\n                  折扣價"),r("span",[t._v(t._s(t._f("currency")(t.cart.final_total)))])])]):t._e()])])]):t._e()])],1)]),t._v(" "),r("div",{staticClass:"order-info"},[r("validation-observer",{staticClass:"form-box",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[r("form",{on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"useremail"}},[t._v("*Email")]),t._v(" "),r("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,d=e.classes;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:d,attrs:{id:"email",type:"email",name:"email",placeholder:"電子郵件"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t._v(" "),r("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"username"}},[t._v("*收件人姓名")]),t._v(" "),r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,d=e.classes;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:d,attrs:{id:"username",type:"text",name:"name",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t._v(" "),r("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"usertel"}},[t._v("*收件人電話")]),t._v(" "),r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,d=e.classes;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:d,attrs:{id:"usertel",type:"tel",name:"tel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t._v(" "),r("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"useraddress"}},[t._v("*收件人地址")]),t._v(" "),r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,d=e.classes;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:d,attrs:{id:"useraddress",type:"address",name:"address",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t._v(" "),r("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"usermsg"}},[t._v("留言")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"usermsg",cols:"30",rows:"3"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"btn-box"},[r("button",{staticClass:"btn btn-left",on:{click:function(e){return e.preventDefault(),t.goCheckOut(e)}}},[r("i",{staticClass:"fas fa-backspace"},[r("span",[t._v("上一步")])])]),t._v(" "),r("button",{staticClass:"btn btn-right",attrs:{type:"button",disabled:o},on:{click:function(e){t.checkOrderState=!0}}},[r("i",{staticClass:"fas fa-arrow-alt-circle-right"},[r("span",[t._v("送出訂單")])])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.checkOrderState,expression:"checkOrderState"}],attrs:{id:"checkorder"}},[r("div",{staticClass:"card-box"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title"},[t._v("確認訂單")]),t._v(" "),r("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.checkOrderState=!1}}},[r("span",[t._v("×")])])]),t._v(" "),r("div",{staticClass:"modal-body"},[t._v("請再次確認商品訂單無誤，謝謝")]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-left",attrs:{type:"button"},on:{click:function(e){t.checkOrderState=!1}}},[t._v("取消")]),t._v(" "),r("button",{staticClass:"btn btn-right",attrs:{type:"button"},on:{click:t.createOrder}},[t._v("送出訂單")])])])])])])]}}])})],1)])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"ul-item"},[r("li",[r("p",[t._v("1 購物資訊")])]),t._v(" "),r("li",[r("i",{staticClass:"fas fa-angle-double-right"})]),t._v(" "),r("li",[r("p",[t._v("2 訂單資訊")])]),t._v(" "),r("li",[r("i",{staticClass:"fas fa-angle-double-right  animate__animated animate__slideOutRight animate__infinite"})]),t._v(" "),r("li",[r("p",[t._v("3 完成訂購")])]),t._v(" "),r("li",[r("i",{staticClass:"fas fa-angle-double-right"})]),t._v(" "),r("li",[r("p",[t._v("4 付款完成")])])])}],!1,null,"45701407",null);e.default=component.exports}}]);