(window.webpackJsonp=window.webpackJsonp||[]).push([[8,3],{273:function(t,o,e){var content=e(275);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(36).default)("86bf4f84",content,!0,{sourceMap:!1})},274:function(t,o,e){"use strict";e(273)},275:function(t,o,e){var n=e(35)(!1);n.push([t.i,'body[data-v-1bc52899]{font-size:.875rem}body[data-v-1bc52899],html[data-v-1bc52899]{font-family:arial,"Microsoft JhengHei","微軟正黑體",sans-serif!important;margin:0}[role=main][data-v-1bc52899]{padding-top:70px}@media(max-width:768px){[role=main][data-v-1bc52899]{padding-top:75px}}.layout-enter-active[data-v-1bc52899],.layout-leave-active[data-v-1bc52899]{transition:opacity .5s}.layout-enter[data-v-1bc52899],.layout-leave-active[data-v-1bc52899]{opacity:0}.pagination[data-v-1bc52899],nav[data-v-1bc52899]{display:flex;justify-content:center}.pagination[data-v-1bc52899]{list-style:none;border:1px solid #003d79;border-radius:.3rem;padding:0}.pagination .page-item[data-v-1bc52899]{padding:.5rem 1rem}.pagination .page-item a[data-v-1bc52899]{padding:.5rem;text-decoration:none;color:#000}.pagination .active[data-v-1bc52899]{background-color:#f9cd25}.pagination .disabled[data-v-1bc52899]{color:#ced3d3}',""]),t.exports=n},276:function(t,o,e){"use strict";e.r(o);var n={name:"Pagin",props:["getpagin"],data:function(){return{}},methods:{getPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$emit("postPage",t)}}},d=(e(274),e(8)),component=Object(d.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("nav",[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.getpagin,expression:"getpagin"}],staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.getpagin.has_pre}},[e("a",{attrs:{href:"javascript:;"},on:{click:function(o){return t.getPage(t.getpagin.current_page-1)}}},[t._v("上一頁")])]),t._v(" "),t._l(t.getpagin.total_pages,(function(o){return e("li",{key:o,staticClass:"page-item",class:{active:t.getpagin.current_page===o}},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.getPage(o)}}},[t._v(t._s(o))])])})),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:!t.getpagin.has_next}},[e("a",{attrs:{href:"javascript:;"},on:{click:function(o){return t.getPage(t.getpagin.current_page+1)}}},[t._v("下一頁")])])],2)])}),[],!1,null,"1bc52899",null);o.default=component.exports},286:function(t,o,e){var content=e(312);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(36).default)("69709077",content,!0,{sourceMap:!1})},311:function(t,o,e){"use strict";e(286)},312:function(t,o,e){var n=e(35)(!1);n.push([t.i,'body[data-v-d04cc0be]{font-size:.875rem}body[data-v-d04cc0be],html[data-v-d04cc0be]{font-family:arial,"Microsoft JhengHei","微軟正黑體",sans-serif!important;margin:0}[role=main][data-v-d04cc0be]{padding-top:70px}@media(max-width:768px){[role=main][data-v-d04cc0be]{padding-top:75px}}.layout-enter-active[data-v-d04cc0be],.layout-leave-active[data-v-d04cc0be]{transition:opacity .5s}.layout-enter[data-v-d04cc0be],.layout-leave-active[data-v-d04cc0be]{opacity:0}.coupons-box[data-v-d04cc0be]{position:relative;margin-top:50px;padding:1rem}.modal-box[data-v-d04cc0be]{position:absolute;top:-12%;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.5)}#couponModal[data-v-d04cc0be]{position:absolute;top:10%;left:20%;background:#fff;max-width:500px;display:flex;justify-content:center;align-items:center}#couponModal .modal-content[data-v-d04cc0be]{width:100%;height:100%}#couponModal .modal-content .modal-header[data-v-d04cc0be]{background:#003d79;color:#fff;display:flex;justify-content:space-between;padding:.5rem}#couponModal .modal-content .modal-header title[data-v-d04cc0be]{font-size:24px;display:block}#couponModal .modal-content .modal-header button[data-v-d04cc0be]{width:2rem;height:2rem;font-size:24px}#couponModal .modal-content .modal-body[data-v-d04cc0be]{padding:.5rem}#couponModal .modal-content .modal-body .row[data-v-d04cc0be]{display:flex;justify-content:center}#couponModal .modal-content .modal-body .row .img-box[data-v-d04cc0be]{width:45%}#couponModal .modal-content .modal-body .row .info-box[data-v-d04cc0be]{width:55%}#couponModal .modal-content .modal-body .row .form-group[data-v-d04cc0be]{margin:1rem 0}#couponModal .modal-content .modal-footer[data-v-d04cc0be]{padding:.5rem}#couponModal img[data-v-d04cc0be]{width:200px;height:200px}#delCouponsModal[data-v-d04cc0be]{position:absolute;top:10%;left:20%;background:#fff;max-width:500px;display:flex;justify-content:center;align-items:center}#delCouponsModal .modal-content[data-v-d04cc0be]{width:100%;height:100%}#delCouponsModal .modal-content .modal-header[data-v-d04cc0be]{background:#003d79;color:#fff;display:flex;justify-content:space-between;padding:.5rem}#delCouponsModal .modal-content .modal-header title[data-v-d04cc0be]{font-size:24px;display:block}#delCouponsModal .modal-content .modal-header button[data-v-d04cc0be]{width:2rem;height:2rem;font-size:24px}#delCouponsModal .modal-content .modal-body[data-v-d04cc0be]{padding:.5rem}#delCouponsModal .modal-content .modal-body .row[data-v-d04cc0be]{display:flex;justify-content:center}#delCouponsModal .modal-content .modal-body .row .img-box[data-v-d04cc0be]{width:45%}#delCouponsModal .modal-content .modal-body .row .info-box[data-v-d04cc0be]{width:55%}#delCouponsModal .modal-content .modal-body .row .form-group[data-v-d04cc0be]{margin:1rem 0}#delCouponsModal .modal-content .modal-footer[data-v-d04cc0be]{padding:.5rem}button[data-v-d04cc0be]{margin-top:10px;background-color:#f9cd25;border:none;border-radius:5px;box-shadow:2px 2px 2px 1px rgba(0,0,0,.2);padding:5px 10px}button[data-v-d04cc0be]:hover{cursor:pointer;background-color:#ffe66f}.btn-secondary[data-v-d04cc0be]{background-color:#ced3d3}.btn-secondary[data-v-d04cc0be]:hover{cursor:pointer;background-color:#aaa}.text-success[data-v-d04cc0be]{color:green}.text-danger[data-v-d04cc0be]{color:red}@media(max-width:736px){.modal-box[data-v-d04cc0be]{position:absolute;top:-30%}.table-rwd[data-v-d04cc0be]{min-width:100%}tr.tr-only-hide[data-v-d04cc0be]{display:none!important}thead[data-v-d04cc0be]{display:none}.qty-rwd[data-v-d04cc0be]{display:inline-block}.table-rwd tr[data-v-d04cc0be]{display:block;border:1px solid #ddd;margin-top:5px}.table-rwd td[data-v-d04cc0be]{text-align:left;font-size:15px;overflow:hidden;width:100%;display:block}.table-rwd td[data-v-d04cc0be]:before{content:attr(data-th) " : ";display:inline-block;text-transform:uppercase;font-weight:700;margin-right:10px;color:#d20b2a}.table-rwd.table-bordered[data-v-d04cc0be],.table-rwd.table-bordered td[data-v-d04cc0be],.table-rwd.table-bordered th[data-v-d04cc0be]{border:0}}',""]),t.exports=n},335:function(t,o,e){"use strict";e.r(o);e(54);var n={components:{Pagin:e(276).default},data:function(){return{coupons:[],tempCoupons:{},isLoading:!1,pagination:{},couponsModalShow:!1,delCouponsModalShow:!1}},methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("hans","/admin/coupons?page=").concat(t),e=this;e.isLoading=!0,this.$axios.get(o).then((function(t){e.isLoading=!1,e.coupons=t.data.coupons,e.pagination=t.data.pagination}))},openCouponModel:function(t,o){this.couponsModalShow=!0,t?(this.tempCoupons={},this.isNew=!0):(this.tempCoupons=Object.assign({},o),this.isNew=!1)},updateCoupons:function(){var t=this;this.couponsModalShow=!1;var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("hans","/admin/coupon"),e="post",n=this;n.isNew||(o="".concat("https://vue-course-api.hexschool.io","/api/").concat("hans","/admin/coupon/").concat(n.tempCoupons.id),e="put"),n.isLoading=!0,this.$axios[e](o,{data:n.tempCoupons}).then((function(o){o.data.success?(t.$bus.$emit("messsage:push",o.data.message,"success"),n.getCoupons()):(t.$bus.$emit("messsage:push",o.data.message,"danger"),n.getCoupons()),n.isLoading=!1}))},delCouponModel:function(){var t=this;this.delCouponsModalShow=!1;var o=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("hans","/admin/coupon/").concat(o.tempCoupons.id);o.isLoading=!0,this.$axios.delete(e).then((function(e){e.data.success?(o.getCoupons(),t.$bus.$emit("messsage:push",e.data.message,"success")):t.$bus.$emit("messsage:push",e.data.message,"danger"),o.isLoading=!1}))},delModel:function(t){this.tempCoupons=t,this.delCouponsModalShow=!0}},created:function(){this.getCoupons()}},d=(e(311),e(8)),component=Object(d.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"coupons-box"},[e("div",{},[e("button",{on:{click:function(o){return t.openCouponModel(!0)}}},[t._v("建立新的優惠卷")])]),t._v(" "),e("table",{},[t._m(0),t._v(" "),e("tbody",t._l(t.coupons,(function(o){return e("tr",{key:o.id},[e("td",{attrs:{"data-th":"優惠名稱"}},[t._v(t._s(o.title))]),t._v(" "),e("td",{attrs:{"data-th":"折扣百分比"}},[t._v(t._s(o.percent)+" %")]),t._v(" "),e("td",{attrs:{"data-th":"到期日"}},[t._v(t._s(o.due_date))]),t._v(" "),e("td",{attrs:{"data-th":"是否啟用"}},[o.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),t._v(" "),e("td",{attrs:{"data-th":"優惠碼"}},[t._v(t._s(o.code))]),t._v(" "),e("td",{staticClass:"btn-group",attrs:{"data-th":"編輯"}},[e("button",{on:{click:function(e){return t.openCouponModel(!1,o)}}},[t._v("編輯")]),t._v(" "),e("button",{staticClass:"btn-secondary",on:{click:function(e){return t.delModel(o)}}},[t._v("刪除")])])])})),0)]),t._v(" "),e("Pagin",{attrs:{getpagin:t.pagination},on:{postPage:t.getCoupons}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.couponsModalShow,expression:"couponsModalShow"}],staticClass:"modal-box"},[e("div",{staticClass:"modal",attrs:{id:"couponModal"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._m(1),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(o){t.couponsModalShow=!1}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("優惠名稱")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupons.title,expression:"tempCoupons.title"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"優惠名稱"},domProps:{value:t.tempCoupons.title},on:{input:function(o){o.target.composing||t.$set(t.tempCoupons,"title",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-3"},[e("label",{attrs:{for:"code"}},[t._v("折扣碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupons.code,expression:"tempCoupons.code"}],staticClass:"form-control",attrs:{type:"text",id:"code",placeholder:"折扣碼"},domProps:{value:t.tempCoupons.code},on:{input:function(o){o.target.composing||t.$set(t.tempCoupons,"code",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-3"},[e("label",{attrs:{for:"percent"}},[t._v("折扣百分比")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupons.percent,expression:"tempCoupons.percent"}],staticClass:"form-control",attrs:{type:"number",id:"percent",placeholder:"折扣百分比",min:"0",max:"100"},domProps:{value:t.tempCoupons.percent},on:{input:function(o){o.target.composing||t.$set(t.tempCoupons,"percent",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-3"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupons.due_date,expression:"tempCoupons.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date",placeholder:"到期日"},domProps:{value:t.tempCoupons.due_date},on:{input:function(o){o.target.composing||t.$set(t.tempCoupons,"due_date",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupons.is_enabled,expression:"tempCoupons.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempCoupons.is_enabled)?t._i(t.tempCoupons.is_enabled,null)>-1:t._q(t.tempCoupons.is_enabled,1)},on:{change:function(o){var e=t.tempCoupons.is_enabled,n=o.target,d=n.checked?1:0;if(Array.isArray(e)){var c=t._i(e,null);n.checked?c<0&&t.$set(t.tempCoupons,"is_enabled",e.concat([null])):c>-1&&t.$set(t.tempCoupons,"is_enabled",e.slice(0,c).concat(e.slice(c+1)))}else t.$set(t.tempCoupons,"is_enabled",d)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn-secondary",attrs:{type:"button"},on:{click:function(o){t.couponsModalShow=!1}}},[t._v("取消")]),t._v(" "),e("button",{attrs:{type:"button"},on:{click:t.updateCoupons}},[t._v("確認")])])])])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.delCouponsModalShow,expression:"delCouponsModalShow"}],staticClass:"modal-box"},[e("div",{staticClass:"modal",attrs:{id:"delCouponsModal"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._m(2),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(o){t.delCouponsModalShow=!1}}},[e("span",[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[t._v("\n            是否刪除\n            "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupons.title))]),t._v(" 商品(刪除後將無法恢復)。\n          ")]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn-secondary",attrs:{type:"button"},on:{click:function(o){t.delCouponsModalShow=!1}}},[t._v("取消")]),t._v(" "),e("button",{attrs:{type:"button"},on:{click:t.delCouponModel}},[t._v("確認刪除")])])])])])])],1)}),[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",[e("th",{attrs:{width:""}},[t._v("優惠名稱")]),t._v(" "),e("th",{attrs:{width:""}},[t._v("折扣百分比")]),t._v(" "),e("th",{attrs:{width:""}},[t._v("到期日")]),t._v(" "),e("th",{attrs:{width:""}},[t._v("是否啟用")]),t._v(" "),e("th",[t._v("優惠碼")]),t._v(" "),e("th",{attrs:{width:""}},[t._v("編輯")])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("title",[e("span",[t._v("優惠卷")])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("title",[e("span",[t._v("刪除優惠卷")])])}],!1,null,"d04cc0be",null);o.default=component.exports}}]);